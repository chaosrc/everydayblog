---
title: 使用索引
date: 2019-09-30
---


## 使用索引



索引用来排序数据以加快搜索和排序操作的速度。使用索引的因素就是恰当的排序。比如找出一本书中词汇的困难不在于必须进行多少搜索，而在于书的内容没有按词汇排序，如果书中的内容像字典一样排序，则索引没有必要。


数据库的索引也一样。主键总是排序的，因此按主键检索特定行总是最快速有效的操作。但是，搜索其他列的值通常效率不高，比如要搜索住在某个省的客户，因为表数据并未按省排序，数据库必须读出表中所有行，看其是否匹配。

解决方法是使用索引。可以在一个或多个列上定义索引，使数据库保存其内容的一个排过序的列表。数据库通过搜索排过序的索引，找出匹配的位置，然后检索这些行。


创建索引时需要考虑以下内容：
- 索引改善检索操作性能，但是降低了数据插入、修改和删除的性能，执行这些操作的时候数据库必须动态地更新索引
- 索引数据可能要占用大量的存储空间
- 并非所有数据都适合做索引
- 索引用于数据过滤和数据排序，如果经常以某种特定的顺序排序数据，那么该数据可能适合做索引
- 可以在索引中定义多个列



#### 创建索引

索引使用 CREATE INDEX 语句创建。下面在 Product 表的产品列名上创建一个简单的索引

输入
```sql
CREATE INDEX prod_name_ind
ON Products (prod_name);
```
索引必须唯一命名，这里索引名 prod_name_ind定义在 CREATE INDEX 之后。ON 用来指定被索引的表，索引中包含的列在表名后面的括号中给出



#### 删除索引

使用 DROP INDEX 来删除索引

输入
```sql
ALTER TABLE Products
DROP INDEX prod_name_ind;
```


