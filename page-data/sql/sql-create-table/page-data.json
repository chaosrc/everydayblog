{"componentChunkName":"component---src-templates-blog-post-js","path":"/sql/sql-create-table/","webpackCompilationHash":"244ee56c36e36966767c","result":{"data":{"site":{"siteMetadata":{"title":"温故而知新","author":"chao"}},"markdownRemark":{"id":"3ae965ad-5ccd-5766-a075-a2d01ba5b9b4","excerpt":"创建和操控表（一）SQL 不仅可以对表的数据进行操纵，还可以对数据库和表本身进行操作，包括表本身的创建和处理表创建基础在 SQL 中可以使用 CREATE TABLE 来创建表。创建表是必须给出下列信息：新表的名字，跟在 CREATE TABLE 之后表列的名字和定义，用逗号分隔下面创建 Products…","html":"<h2>创建和操控表（一）</h2>\n<p>SQL 不仅可以对表的数据进行操纵，还可以对数据库和表本身进行操作，包括表本身的创建和处理</p>\n<h4>表创建基础</h4>\n<p>在 SQL 中可以使用 CREATE TABLE 来创建表。创建表是必须给出下列信息：</p>\n<ul>\n<li>新表的名字，跟在 CREATE TABLE 之后</li>\n<li>表列的名字和定义，用逗号分隔</li>\n</ul>\n<p>下面创建 Products 表</p>\n<p>输入</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> Products\n<span class=\"token punctuation\">(</span>\n    prod_id     <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>         <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    vend_id     <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>         <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    prod_name   <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">254</span><span class=\"token punctuation\">)</span>        <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    prod_price  <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    prod_desc   <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>    <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面的 SQL 语句创建了一个 Products 表，表的所有列定义在圆括号内，列之间用逗号分隔，列名后面根列的数据类型</p>\n<h4>使用 NULL 值</h4>\n<p>NULL 值就是没有值或者缺值，允许 NULL 值的列在插入数据时可以不给出该列的值，不允许 NULL 值的列在插入或者更新是该列必须有值</p>\n<p>每个表要么是 NULL 列，要么是 NOT NULL 列，这种状态在创建表时定义</p>\n<p>下面创建一个 Vendors 表</p>\n<p>输入</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> Vendors\n<span class=\"token punctuation\">(</span>\n    ven_id        <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    vend_name     <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    vend_address  <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>             <span class=\"token punctuation\">,</span>\n    vend_city     <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>             <span class=\"token punctuation\">,</span>\n    vend_state    <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>              <span class=\"token punctuation\">,</span>\n    vend_zip      <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>             <span class=\"token punctuation\">,</span> \n    vend_country  <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>             \n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面的语句创建了 Vendors 表，其中 ven<em>id 和 vend</em>name 是必须的，所以指定为 NOT NULL，其余的列 没有指定，默认为 NULL，可以为空值</p>\n<h4>指定默认值</h4>\n<p>SQL 语句允许指定默认值，在插入行时如果没有给出值，则使用默认值，默认值在 CREATE TABLE 中用关键词 DEFAULT 指定</p>\n<p>下面创建一个 OrderItem 表</p>\n<p>输入</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> OrderItems\n<span class=\"token punctuation\">(</span>\n    order_num       <span class=\"token keyword\">INTEGER</span>       <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    order_item      <span class=\"token keyword\">INTEGER</span>       <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    prod_id         <span class=\"token keyword\">INTEGER</span>       <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    quantity        <span class=\"token keyword\">INTEGER</span>       <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>    <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    item_price      <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>   \n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上面的语句创建 OrderItems 表，其中 quantity 为订单中每个每个物品的数量，在这一列的描述中增加了 DEFAULT 1 来设置默认值为 1， 如果插入时没有给出值则数量为 1</p>\n<p>默认值通常用于日期或时间戳，比如通过使用系统日期函数或变量将系统日期设置为默认日期，在不同的数据库中获取默认日期都有各自的方式，在 MySQL 中使用 CURRENT_DATE()， Oracle 中使用 SYSDATE，SQLite 中使用 date(‘now’)</p>","frontmatter":{"title":"创建和操控表（一）","date":"September 21, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/sql/sql-create-table/","previous":{"fields":{"slug":"/sql/sql-update-delete/"},"frontmatter":{"title":"更新和删除数据"}},"next":{"fields":{"slug":"/promise2/"},"frontmatter":{"title":""}}}}}