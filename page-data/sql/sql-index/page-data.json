{"componentChunkName":"component---src-templates-blog-post-js","path":"/sql/sql-index/","webpackCompilationHash":"244ee56c36e36966767c","result":{"data":{"site":{"siteMetadata":{"title":"温故而知新","author":"chao"}},"markdownRemark":{"id":"752889bb-c932-562a-910c-3c1e76ee44e7","excerpt":"…","html":"<h2>使用索引</h2>\n<p>索引用来排序数据以加快搜索和排序操作的速度。使用索引的因素就是恰当的排序。比如找出一本书中词汇的困难不在于必须进行多少搜索，而在于书的内容没有按词汇排序，如果书中的内容像字典一样排序，则索引没有必要。</p>\n<p>数据库的索引也一样。主键总是排序的，因此按主键检索特定行总是最快速有效的操作。但是，搜索其他列的值通常效率不高，比如要搜索住在某个省的客户，因为表数据并未按省排序，数据库必须读出表中所有行，看其是否匹配。</p>\n<p>解决方法是使用索引。可以在一个或多个列上定义索引，使数据库保存其内容的一个排过序的列表。数据库通过搜索排过序的索引，找出匹配的位置，然后检索这些行。</p>\n<p>创建索引时需要考虑以下内容：</p>\n<ul>\n<li>索引改善检索操作性能，但是降低了数据插入、修改和删除的性能，执行这些操作的时候数据库必须动态地更新索引</li>\n<li>索引数据可能要占用大量的存储空间</li>\n<li>并非所有数据都适合做索引</li>\n<li>索引用于数据过滤和数据排序，如果经常以某种特定的顺序排序数据，那么该数据可能适合做索引</li>\n<li>可以在索引中定义多个列</li>\n</ul>\n<h4>创建索引</h4>\n<p>索引使用 CREATE INDEX 语句创建。下面在 Product 表的产品列名上创建一个简单的索引</p>\n<p>输入</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">INDEX</span> prod_name_ind\n<span class=\"token keyword\">ON</span> Products <span class=\"token punctuation\">(</span>prod_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>索引必须唯一命名，这里索引名 prod<em>name</em>ind定义在 CREATE INDEX 之后。ON 用来指定被索引的表，索引中包含的列在表名后面的括号中给出</p>\n<h4>删除索引</h4>\n<p>使用 DROP INDEX 来删除索引</p>\n<p>输入</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> Products\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">INDEX</span> prod_name_ind<span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"使用索引","date":"September 30, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/sql/sql-index/","previous":{"fields":{"slug":"/sql/sql-constraint/"},"frontmatter":{"title":"使用约束"}},"next":{"fields":{"slug":"/mysql/msql-model-design/"},"frontmatter":{"title":"数据库模型和设计"}}}}}